<!DOCTYPE html>
<html lang="zh-CN">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
	<title>è½¯ä»¶æœç´¢ä¸‹è½½</title>
	<style>
		* {
			margin: 0;
			padding: 0;
			box-sizing: border-box;
		}

		body {
			font-family: Arial, sans-serif;
			background-color: #f5f5f5;
			padding: 0;
			touch-action: pan-x pan-y;
			overflow-x: hidden;
			padding-bottom: 60px;
		}

		/* é˜²æ­¢é¡µé¢ç¼©æ”¾ */
		html {
			touch-action: manipulation;
			-webkit-text-size-adjust: none;
			-ms-text-size-adjust: none;
			text-size-adjust: none;
		}

		/* ç”¨æˆ·ä¿¡æ¯æ  */
		.user-info-bar {
			background-color: #45a049;
			height: 40px;
			display: flex;
			align-items: center;
			justify-content: space-between;
			padding: 0 15px;
			color: white;
			font-size: 14px;
		}

		.welcome-text {
			font-weight: bold;
		}

		.login-btn, .logout-btn {
			background-color: rgba(255,255,255,0.2);
			color: white;
			border: 1px solid rgba(255,255,255,0.3);
			border-radius: 15px;
			padding: 5px 12px;
			cursor: pointer;
			font-size: 12px;
		}

		.login-btn:hover, .logout-btn:hover {
			background-color: rgba(255,255,255,0.3);
		}

		/* ç™»å½•å¼¹çª— */
		.modal-overlay {
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background-color: rgba(0, 0, 0, 0.5);
			z-index: 1000;
			display: none;
			justify-content: center;
			align-items: center;
		}

		.modal-overlay.show {
			display: flex;
		}

		.login-modal {
			background-color: white;
			border-radius: 10px;
			padding: 30px;
			width: 90%;
			max-width: 400px;
			box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
		}

		.modal-header h2 {
			color: #333;
			font-size: 20px;
			margin-bottom: 15px;
			text-align: center;
		}

		.form-group {
			margin-bottom: 20px;
		}

		.form-group label {
			display: block;
			margin-bottom: 8px;
			color: #333;
			font-weight: bold;
		}

		.form-input {
			width: 100%;
			padding: 12px;
			border: 2px solid #ddd;
			border-radius: 8px;
			font-size: 16px;
		}

		.form-input:focus {
			outline: none;
			border-color: #4CAF50;
		}

		.error-message {
			color: #f44336;
			font-size: 12px;
			margin-top: 5px;
			display: none;
		}

		.modal-buttons {
			display: flex;
			gap: 10px;
			justify-content: flex-end;
		}

		.btn {
			padding: 10px 20px;
			border: none;
			border-radius: 8px;
			cursor: pointer;
			font-size: 14px;
			font-weight: bold;
		}

		.btn-primary {
			background-color: #4CAF50;
			color: white;
		}

		.btn-secondary {
			background-color: #f5f5f5;
			color: #666;
		}

		/* åº•éƒ¨å¯¼èˆªæ  */
		.bottom-nav {
			position: fixed;
			bottom: 0;
			left: 0;
			width: 100%;
			height: 60px;
			background-color: #fff;
			border-top: 1px solid #e5e5e5;
			display: flex;
			justify-content: space-around;
			align-items: center;
			z-index: 200;
		}

		.nav-item {
			display: flex;
			flex-direction: column;
			align-items: center;
			justify-content: center;
			flex: 1;
			height: 100%;
			text-decoration: none;
			color: #999;
			transition: color 0.3s;
		}

		.nav-item.active {
			color: #4CAF50;
		}

		.nav-icon {
			width: 24px;
			height: 24px;
			margin-bottom: 4px;
			font-size: 20px;
		}

		.nav-text {
			font-size: 12px;
		}

		/* åŠŸèƒ½åˆ—è¡¨æ ·å¼ */
		.function-list {
			background-color: white;
			margin: 20px;
			border-radius: 10px;
			box-shadow: 0 2px 10px rgba(0,0,0,0.1);
			overflow: hidden;
			transition: all 0.3s ease;
		}

		.list-item {
			display: flex;
			align-items: center;
			justify-content: space-between;
			padding: 15px 20px;
			border-bottom: 1px solid #f0f0f0;
			cursor: pointer;
			transition: background-color 0.3s;
		}

		.list-item:last-child {
			border-bottom: none;
		}

		.list-item:hover {
			background-color: #f9f9f9;
		}

		.list-item-left {
			display: flex;
			align-items: center;
		}

		.list-icon {
			width: 20px;
			height: 20px;
			margin-right: 12px;
			font-size: 16px;
		}

		.list-text {
			font-size: 16px;
			color: #333;
		}

		.view-btn {
			background-color: #2196F3;
			color: white;
			border: none;
			border-radius: 6px;
			padding: 6px 12px;
			font-size: 12px;
			cursor: pointer;
			transition: background-color 0.3s;
		}

		.view-btn:hover {
			background-color: #1976D2;
		}

		/* è”ç³»ä½œè€…å¼¹çª— */
		.contact-modal {
			background-color: white;
			border-radius: 10px;
			padding: 30px;
			width: 90%;
			max-width: 350px;
			box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
			text-align: center;
		}

		.contact-title {
			color: #333;
			font-size: 18px;
			margin-bottom: 20px;
		}

		.qq-info {
			display: flex;
			align-items: center;
			justify-content: center;
			gap: 10px;
			margin-bottom: 20px;
			padding: 15px;
			background-color: #f5f5f5;
			border-radius: 8px;
		}

		.qq-number {
			font-size: 18px;
			font-weight: bold;
			color: #333;
		}

		.contact-buttons {
			display: flex;
			gap: 10px;
			justify-content: center;
		}

		/* å…³äºæˆ‘ä»¬é¡µé¢æ ·å¼ */
		.about-page {
			background-color: #f5f5f5;
			min-height: 100vh;
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			padding: 80px 20px 20px;
			z-index: 500;
			display: none;
		}

		.about-header {
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			background-color: #fff;
			border-bottom: 1px solid #e5e5e5;
			padding: 15px 20px;
			display: flex;
			align-items: center;
			justify-content: space-between;
			z-index: 600;
		}

		.back-btn {
			background: none;
			border: none;
			font-size: 18px;
			cursor: pointer;
			padding: 5px 10px;
			border-radius: 5px;
		}

		.back-btn:hover {
			background-color: #f0f0f0;
		}

		.header-title {
			font-size: 16px;
			font-weight: bold;
			color: #333;
		}

		.app-info {
			text-align: center;
			margin-top: 20px;
		}

		.app-icon {
			width: 80px;
			height: 80px;
			background-color: #4CAF50;
			border-radius: 15px;
			margin: 0 auto 10px;
			display: flex;
			align-items: center;
			justify-content: center;
			font-size: 36px;
			color: white;
		}

		.app-icon img {
			width: 100%;
			height: 100%;
			object-fit: cover;
			border-radius: 15px;
		}

		.app-name {
			font-size: 18px;
			font-weight: bold;
			color: #333;
			margin-bottom: 5px;
		}

		.version-display {
			font-size: 14px;
			color: #666;
		}

		/* è®¾ç½®é¡µé¢æ ·å¼ - ä¿®æ”¹åçš„ç®€æ´ç‰ˆæœ¬ */
		.settings-page {
			background-color: #f5f5f5;
			min-height: 100vh;
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			padding: 80px 20px 20px;
			z-index: 500;
			display: none;
		}

		.settings-header {
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			background-color: #fff;
			border-bottom: 1px solid #e5e5e5;
			padding: 15px 20px;
			display: flex;
			align-items: center;
			justify-content: space-between;
			z-index: 600;
		}

		/* æ–°å¢ï¼šé¡¶éƒ¨å›¾æ ‡åŒºåŸŸ */
		.settings-icon-container {
			margin: 20px auto;
			width: 80px;
			height: 80px;
			border-radius: 18px;
			overflow: hidden;
			box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
			background-color: white;
		}

		.settings-icon {
			width: 100%;
			height: 100%;
			object-fit: cover;
		}

		/* ä¿®æ”¹åçš„è®¾ç½®å†…å®¹åŒºåŸŸ */
		.settings-content {
			background-color: white;
			border-radius: 10px;
			padding: 20px;
			margin-top: 20px;
			box-shadow: 0 2px 10px rgba(0,0,0,0.1);
		}

		.setting-item {
			padding: 15px 0;
			border-bottom: 1px solid #f0f0f0;
			display: flex;
			justify-content: space-between;
			align-items: center;
		}

		.setting-item:last-child {
			border-bottom: none;
		}

		.setting-label {
			font-size: 16px;
			color: #333;
		}

		.setting-value {
			font-size: 14px;
			color: #666;
		}

		/* å¤šè¯­è¨€å¼€å…³æ ·å¼ */
		.language-switch {
			position: relative;
			display: inline-block;
			width: 50px;
			height: 24px;
		}

		.language-switch input {
			opacity: 0;
			width: 0;
			height: 0;
		}

		.slider {
			position: absolute;
			cursor: pointer;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
			background-color: #ccc;
			transition: .4s;
			border-radius: 24px;
		}

		.slider:before {
			position: absolute;
			content: "";
			height: 18px;
			width: 18px;
			left: 3px;
			bottom: 3px;
			background-color: white;
			transition: .4s;
			border-radius: 50%;
		}

		input:checked + .slider {
			background-color: #4CAF50;
		}

		input:checked + .slider:before {
			transform: translateX(26px);
		}

		/* å¾®ä¿¡é£æ ¼é€šçŸ¥å¼¹çª— */
		.wechat-notification {
			position: fixed;
			top: -200px;
			left: 50%;
			transform: translateX(-50%);
			width: 90%;
			max-width: 320px;
			background: linear-gradient(135deg, #07bb07, #00d100);
			border-radius: 8px;
			padding: 15px;
			box-shadow: 0 4px 20px rgba(0,0,0,0.3);
			z-index: 2000;
			transition: top 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
			color: white;
			cursor: pointer;
		}

		.wechat-notification.show {
			top: 20px;
		}

		.wechat-notification:active {
			top: -200px !important;
		}

		.notification-header {
			display: flex;
			align-items: center;
			margin-bottom: 8px;
		}

		.studio-name {
			font-size: 16px;
			font-weight: bold;
			margin-left: 8px;
		}

		.notification-content {
			font-size: 13px;
			opacity: 0.9;
			line-height: 1.4;
		}

		.notification-icon {
			width: 20px;
			height: 20px;
			background-color: rgba(255,255,255,0.2);
			border-radius: 50%;
			display: flex;
			align-items: center;
			justify-content: center;
			font-size: 12px;
		}

		/* å¤åˆ¶æˆåŠŸæç¤ºå¼¹çª— */
		.copy-success-modal {
			position: fixed;
			top: 50%;
			left: 50%;
			transform: translate(-50%, -50%);
			background-color: rgba(0, 0, 0, 0.8);
			color: white;
			padding: 15px 25px;
			border-radius: 8px;
			z-index: 1500;
			display: none;
			font-size: 16px;
		}

		.copy-success-modal.show {
			display: block;
			animation: fadeInOut 2s ease-in-out;
		}

		@keyframes fadeInOut {
			0% { opacity: 0; }
			20% { opacity: 1; }
			80% { opacity: 1; }
			100% { opacity: 0; }
		}

		/* æ–°å¢ï¼šéœ¸ç‹æ¡æ¬¾å¼¹çª—æ ·å¼ */
		.terms-overlay {
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background-color: rgba(0, 0, 0, 0.6);
			z-index: 3000;
			display: none;
			justify-content: center;
			align-items: center;
			backdrop-filter: blur(5px);
			-webkit-backdrop-filter: blur(5px);
		}

		.terms-overlay.show {
			display: flex;
		}

		.terms-modal {
			background-color: white;
			border-radius: 15px;
			width: 90%;
			max-width: 600px;
			max-height: 80vh;
			position: relative;
			box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
			display: flex;
			flex-direction: column;
		}

		.terms-header {
			padding: 20px;
			border-bottom: 1px solid #eee;
			display: flex;
			justify-content: space-between;
			align-items: center;
			background-color: #f8f9fa;
			border-radius: 15px 15px 0 0;
		}

		.terms-title {
			font-size: 18px;
			font-weight: bold;
			color: #333;
			margin: 0;
		}

		.terms-close {
			background: none;
			border: none;
			font-size: 24px;
			color: #999;
			cursor: pointer;
			width: 30px;
			height: 30px;
			display: flex;
			align-items: center;
			justify-content: center;
			border-radius: 50%;
			transition: all 0.3s;
		}

		.terms-close:hover {
			background-color: #f0f0f0;
			color: #333;
		}

		.terms-content {
			padding: 20px;
			overflow-y: auto;
			flex: 1;
			line-height: 1.6;
			color: #555;
			font-size: 14px;
		}

		.loading-text {
			text-align: center;
			color: #999;
			font-style: italic;
			padding: 40px;
		}

		.error-text {
			text-align: center;
			color: #f44336;
			font-style: italic;
			padding: 40px;
		}

		/* å®‰å…¨å¯¼èˆªæŒ‡ç¤ºå™¨ */
		.nav-safe-indicator {
			position: fixed;
			top: 50px;
			right: 10px;
			background: rgba(76, 175, 80, 0.9);
			color: white;
			padding: 5px 10px;
			border-radius: 15px;
			font-size: 12px;
			z-index: 1000;
			display: none;
			animation: pulse 2s infinite;
		}

		@keyframes pulse {
			0% { opacity: 0.7; }
			50% { opacity: 1; }
			100% { opacity: 0.7; }
		}

		/* åŠ è½½æŒ‡ç¤ºå™¨ */
		.loading-overlay {
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background: rgba(0, 0, 0, 0.5);
			z-index: 9999;
			display: none;
			justify-content: center;
			align-items: center;
		}

		.loading-spinner {
			width: 50px;
			height: 50px;
		 border: 5px solid #f3f3f3;
			border-top: 5px solid #4CAF50;
			border-radius: 50%;
			animation: spin 1s linear infinite;
		}

		@keyframes spin {
			0% { transform: rotate(0deg); }
			100% { transform: rotate(360deg); }
		}
	</style>
</head>
<body>
	<!-- å®‰å…¨å¯¼èˆªæŒ‡ç¤ºå™¨ -->
	<div id="navSafeIndicator" class="nav-safe-indicator">å®‰å…¨å¯¼èˆªå·²å¯ç”¨</div>

	<!-- åŠ è½½æŒ‡ç¤ºå™¨ -->
	<div id="loadingOverlay" class="loading-overlay">
		<div class="loading-spinner"></div>
	</div>

	<!-- ç”¨æˆ·ä¿¡æ¯æ  -->
	<div class="user-info-bar">
		<div class="welcome-text" id="welcomeText">æ¬¢è¿è®¿é—®</div>
		<div>
			<span id="loginStatus" class="login-btn" onclick="showLoginModal()">ç‚¹å‡»ç™»å½•</span>
			<span id="logoutBtn" class="logout-btn" onclick="logout()" style="display: none; margin-left: 10px;">é€€å‡º</span>
		</div>
	</div>

	<!-- åŠŸèƒ½åˆ—è¡¨ -->
	<div class="function-list" id="functionList">
		<div class="list-item" onclick="showContactModal()">
			<div class="list-item-left">
				<div class="list-icon">ğŸ“</div>
				<div class="list-text" data-zh="è”ç³»ä½œè€…" data-en="Contact Author">è”ç³»ä½œè€…</div>
			</div>
			<button class="view-btn" onclick="event.stopPropagation(); showContactModal()">æŸ¥çœ‹</button>
		</div>
		<div class="list-item" onclick="goToSettings()">
			<div class="list-item-left">
				<div class="list-icon">âš™ï¸</div>
				<div class="list-text" data-zh="è®¾ç½®" data-en="Settings">è®¾ç½®</div>
			</div>
		</div>
		<div class="list-item" onclick="showAboutNotification()">
			<div class="list-item-left">
				<div class="list-icon">â„¹ï¸</div>
				<div class="list-text" data-zh="å…³äºæˆ‘ä»¬" data-en="About Us">å…³äºæˆ‘ä»¬</div>
			</div>
		</div>
	</div>

	<!-- ç™»å½•å¼¹çª— -->
	<div id="loginModal" class="modal-overlay" onclick="closeLoginModal(event)">
		<div class="login-modal" onclick="event.stopPropagation()">
			<div class="modal-header">
				<h2 data-zh="ç”¨æˆ·ç™»å½•" data-en="User Login">ç”¨æˆ·ç™»å½•</h2>
			</div>
			
			<form id="loginForm">
				<div class="form-group">
					<label for="username" data-zh="è´¦å·ï¼š" data-en="Username:">è´¦å·ï¼š</label>
					<input type="text" id="username" class="form-input" placeholder="è‡³å°‘2ä½å­—ç¬¦" data-placeholder-zh="è‡³å°‘2ä½å­—ç¬¦" data-placeholder-en="At least 2 characters">
					<div id="usernameError" class="error-message" data-zh="è´¦å·è‡³å°‘éœ€è¦2ä½å­—ç¬¦" data-en="Username needs at least 2 characters">è´¦å·è‡³å°‘éœ€è¦2ä½å­—ç¬¦</div>
				</div>
				
				<div class="form-group">
					<label for="password" data-zh="å¯†ç ï¼š" data-en="Password:">å¯†ç ï¼š</label>
					<input type="password" id="password" class="form-input" placeholder="8-12ä½ï¼Œéœ€å«è‹±æ–‡å’Œæ•°å­—" data-placeholder-zh="8-12ä½ï¼Œéœ€å«è‹±æ–‡å’Œæ•°å­—" data-placeholder-en="8-12 characters, must include letters and numbers">
					<div id="passwordError" class="error-message" data-zh="å¯†ç éœ€8-12ä½ï¼Œä¸”å¿…é¡»åŒ…å«è‹±æ–‡å’Œæ•°å­—" data-en="Password must be 8-12 characters and include both letters and numbers">å¯†ç éœ€8-12ä½ï¼Œä¸”å¿…é¡»åŒ…å«è‹±æ–‡å’Œæ•°å­—</div>
				</div>
				
				<div class="modal-buttons">
					<button type="button" class="btn btn-secondary" onclick="closeLoginModal()">å–æ¶ˆ</button>
					<button type="submit" class="btn btn-primary" data-zh="ç¡®å®š" data-en="Confirm">ç¡®å®š</button>
				</div>
			</form>
		</div>
	</div>

	<!-- è”ç³»ä½œè€…å¼¹çª— -->
	<div id="contactModal" class="modal-overlay" onclick="closeContactModal(event)">
		<div class="contact-modal" onclick="event.stopPropagation()">
			<h2 class="contact-title" data-zh="è”ç³»ä½œè€…" data-en="Contact Author">è”ç³»ä½œè€…</h2>
			<div class="qq-info">
				<span data-zh="ä½œè€…QQï¼š" data-en="Author QQ:">ä½œè€…QQï¼š</span>
				<span class="qq-number" id="qqDisplay">2019947085</span>
			</div>
			<div class="contact-buttons">
				<button class="btn btn-secondary" onclick="closeContactModal()">å…³é—­</button>
				<button class="btn btn-primary" onclick="copyQQFromModal()">å¤åˆ¶QQå·</button>
			</div>
		</div>
	</div>

	<!-- å¾®ä¿¡é£æ ¼é€šçŸ¥å¼¹çª— -->
	<div id="wechatNotification" class="wechat-notification" onclick="hideWeChatNotification()">
		<div class="notification-header">
			<div class="notification-icon">ğŸ’¬</div>
			<div class="studio-name">MZå·¥ä½œå®¤</div>
		</div>
		<div class="notification-content">
			<div style="font-weight: bold; margin-bottom: 3px;">æ¤åˆ›é­”ç›’</div>
			<div data-zh="æˆ‘ä»¬åªæ˜¯PVZçš„å¿ å®çˆ±å¥½è€…ï¼" data-en="We are just loyal fans of PVZ!">æˆ‘ä»¬åªæ˜¯PVZçš„å¿ å®çˆ±å¥½è€…ï¼</div>
		</div>
	</div>

	<!-- å¤åˆ¶æˆåŠŸæç¤ºå¼¹çª— -->
	<div id="copySuccessModal" class="copy-success-modal">å·²å¤åˆ¶åˆ°å‰ªè´´æ¿</div>

	<!-- éœ¸ç‹æ¡æ¬¾å¼¹çª— -->
	<div id="termsOverlay" class="terms-overlay" onclick="closeTermsModal(event)">
		<div class="terms-modal" onclick="event.stopPropagation()">
			<div class="terms-header">
				<h2 class="terms-title" data-zh="æ¤åˆ›é­”ç›’éœ¸ç‹æ¡æ¬¾" data-en="PVZ Magic Box Terms">æ¤åˆ›é­”ç›’éœ¸ç‹æ¡æ¬¾</h2>
				<button class="terms-close" onclick="closeTermsModal()">Ã—</button>
			</div>
			<div class="terms-content" id="termsContent">
				<div class="loading-text">æ­£åœ¨åŠ è½½æ¡æ¬¾å†…å®¹...</div>
			</div>
		</div>
	</div>

	<!-- åº•éƒ¨å¯¼èˆªæ  -->
	<div class="bottom-nav">
		<a href="#" class="nav-item active" onclick="handleNavigation('home', event)">
			<div class="nav-icon">ğŸ </div>
			<div class="nav-text" data-zh="ä¸»é¡µ" data-en="Home">ä¸»é¡µ</div>
		</a>
		<a href="#" class="nav-item" onclick="handleNavigation('author', event)">
			<div class="nav-icon">ğŸ“„</div>
			<div class="nav-text" data-zh="ä½œè€…" data-en="Author">ä½œè€…</div>
		</a>
		<a href="#" class="nav-item" onclick="handleNavigation('profile', event)">
			<div class="nav-icon">ğŸ‘¤</div>
			<div class="nav-text" data-zh="æˆ‘çš„" data-en="Profile">æˆ‘çš„</div>
		</a>
	</div>

	<!-- å…³äºæˆ‘ä»¬é¡µé¢ -->
	<div id="aboutPage" class="about-page">
		<!-- å¤´éƒ¨ -->
		<div class="about-header">
			<button class="back-btn" onclick="hideAbout()">â†</button>
			<div class="header-title" data-zh="å…³äºæˆ‘ä»¬" data-en="About Us">å…³äºæˆ‘ä»¬</div>
		</div>

		<!-- åº”ç”¨ä¿¡æ¯ -->
		<div class="app-info">
			<div class="app-icon">
				<img src="å›¾æ ‡.jpg" alt="åº”ç”¨å›¾æ ‡" onerror="this.style.display='none'; this.parentNode.innerHTML='ğŸ“±'; this.parentNode.style.fontSize='36px'; this.parentNode.style.display='flex'; this.parentNode.style.alignItems='center'; this.parentNode.style.justifyContent='center'">
			</div>
			<div class="app-name" data-zh="è½¯ä»¶æœç´¢ä¸‹è½½" data-en="Software Search Download">è½¯ä»¶æœç´¢ä¸‹è½½</div>
			<div class="version-display" id="versionDisplay">ç‰ˆæœ¬ 1.1æ­£å¼ç‰ˆ</div>
		</div>
	</div>

	<!-- è®¾ç½®é¡µé¢ - ä¿®æ”¹åçš„ç®€æ´ç‰ˆæœ¬ -->
	<div id="settingsPage" class="settings-page">
		<!-- å¤´éƒ¨ -->
		<div class="settings-header">
			<button class="back-btn" onclick="hideSettings()">â†</button>
			<div class="header-title" style="font-size: 18px; font-weight: bold; flex: 1; text-align: center;" data-zh="è®¾ç½®" data-en="Settings">è®¾ç½®</div>
			<div style="width: 40px;"></div> <!-- å ä½å…ƒç´ ï¼Œå¹³è¡¡è¿”å›æŒ‰é’®çš„ç©ºé—´ -->
		</div>

		<!-- é¡¶éƒ¨å›¾æ ‡ - è°ƒç”¨å›¾æ ‡.jpg -->
		<div class="settings-icon-container">
			<img src="å›¾æ ‡.jpg" alt="åº”ç”¨å›¾æ ‡" class="settings-icon" onerror="this.style.display='none'; this.parentNode.innerHTML='âš™ï¸'; this.parentNode.style.fontSize='36px'; this.parentNode.style.display='flex'; this.parentNode.style.alignItems='center'; this.parentNode.style.justifyContent='center';">
		</div>

		<!-- è®¾ç½®å†…å®¹ -->
		<div class="settings-content">
			<div class="setting-item">
				<span class="setting-label" data-zh="åº”ç”¨ç‰ˆæœ¬" data-en="App Version">åº”ç”¨ç‰ˆæœ¬</span>
				<span class="setting-value" id="settingsVersionDisplay">1.1æ­£å¼ç‰ˆ</span>
			</div>
			<div class="setting-item">
				<span class="setting-label" data-zh="å¼€å‘è€…" data-en="Developer">å¼€å‘è€…</span>
				<span class="setting-value">MZå·¥ä½œå®¤</span>
			</div>
			<div class="setting-item">
				<span class="setting-label" data-zh="è”ç³»æ–¹å¼" data-en="Contact Info">è”ç³»æ–¹å¼</span>
				<span class="setting-value">QQ: 2019947085</span>
			</div>
			<div class="setting-item">
				<span class="setting-label" data-zh="ä¸»é¢˜æ¨¡å¼" data-en="Theme Mode">ä¸»é¢˜æ¨¡å¼</span>
				<span class="setting-value" data-zh="æµ…è‰²æ¨¡å¼" data-en="Light Mode">æµ…è‰²æ¨¡å¼</span>
			</div>
			<div class="setting-item">
				<span class="setting-label" data-zh="å¤šè¯­è¨€æ”¯æŒ" data-en="Multi-language Support">å¤šè¯­è¨€æ”¯æŒ</span>
				<span class="setting-value">
					<label class="language-switch">
						<input type="checkbox" id="languageToggle" onchange="toggleLanguage()">
						<span class="slider"></span>
					</label>
				</span>
			</div>
		</div>

		<!-- æ–°å¢ï¼šæ¤åˆ›é­”ç›’éœ¸ç‹æ¡æ¬¾é˜…è¯» -->
		<div class="function-list" style="margin-top: 30px;">
			<div class="list-item" onclick="showTermsModal()">
				<div class="list-item-left">
					<div class="list-icon">ğŸ“‹</div>
					<div class="list-text" data-zh="æ¤åˆ›é­”ç›’éœ¸ç‹æ¡æ¬¾" data-en="PVZ Magic Box Terms">æ¤åˆ›é­”ç›’éœ¸ç‹æ¡æ¬¾</div>
				</div>
				<button class="view-btn" onclick="event.stopPropagation(); showTermsModal()">é˜…è¯»</button>
			</div>
		</div>
	</div>

	<script>
		// å¤šè¯­è¨€ç›¸å…³å˜é‡å’Œå‡½æ•°
		let isEnglishMode = false;
		
		// ä¿å­˜è¯­è¨€è®¾ç½®çŠ¶æ€
		function saveLanguageState(isEnglish) {
			localStorage.setItem('isEnglish', isEnglish.toString());
		}

		function getLanguageState() {
			return localStorage.getItem('isEnglish') === 'true';
		}

		// å¤šé‡ä¿éšœå¯¼èˆªç³»ç»Ÿ
		const NavigationSafety = {
			// æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼ˆæ¨¡æ‹Ÿï¼‰
			async checkFileExists(url) {
				return new Promise((resolve) => {
					// æ¨¡æ‹Ÿç½‘ç»œè¯·æ±‚æ£€æŸ¥æ–‡ä»¶å­˜åœ¨æ€§
					setTimeout(() => {
						// è¿™é‡Œå¯ä»¥æ·»åŠ å®é™…çš„fetchæ£€æŸ¥
						// ç›®å‰æ¨¡æ‹Ÿä¸€äº›å¸¸è§æƒ…å†µ
						const knownFiles = {
							'indexhome-En.html': true,
							'index2-En.html': true,
							'index3.html': true,
							'indexhome.html': true,
							'index2.html': true
						};
						resolve(knownFiles[url] || false);
					}, 100);
				});
			},

			// è·å–å¤‡ç”¨URLåˆ—è¡¨
			getBackupUrls(originalUrl) {
				const backupMap = {
					'indexhome-En.html': ['indexhome.html', '/', 'index.html'],
					'index2-En.html': ['index2.html', 'index.html', '/'],
					'indexhome.html': ['/', 'index.html'],
					'index2.html': ['index.html', '/']
				};
				return backupMap[originalUrl] || ['/'];
			},

			// å®‰å…¨å¯¼èˆªä¸»å‡½æ•°
			async safeNavigate(targetUrl, pageName = '') {
				this.showLoading(true);
				this.showSafetyIndicator(true);

				try {
					console.log(`ğŸ” å¼€å§‹å®‰å…¨å¯¼èˆªæ£€æŸ¥: ${targetUrl}`);

					// ç¬¬ä¸€é‡ä¿éšœï¼šURLå®‰å…¨æ£€æŸ¥
					if (!this.validateUrl(targetUrl)) {
						throw new Error('URLæ ¼å¼ä¸å®‰å…¨');
					}

					// ç¬¬äºŒé‡ä¿éšœï¼šæ–‡ä»¶å­˜åœ¨æ€§æ£€æŸ¥
					const fileExists = await this.checkFileExists(targetUrl);
					if (!fileExists) {
						console.warn(`âš ï¸ ç›®æ ‡æ–‡ä»¶ä¸å­˜åœ¨: ${targetUrl}`);
						
						// ç¬¬ä¸‰é‡ä¿éšœï¼šå°è¯•å¤‡ç”¨URL
						const backups = this.getBackupUrls(targetUrl);
						let navigated = false;
						
						for (let backupUrl of backups) {
							console.log(`ğŸ”„ å°è¯•å¤‡ç”¨URL: ${backupUrl}`);
							const backupExists = await this.checkFileExists(backupUrl);
							if (backupExists) {
								console.log(`âœ… ä½¿ç”¨å¤‡ç”¨URLæˆåŠŸ: ${backupUrl}`);
								this.performNavigation(backupUrl, pageName);
								navigated = true;
								break;
							}
						}

						if (!navigated) {
							throw new Error(`æ— æ³•æ‰¾åˆ°å¯ç”¨çš„é¡µé¢: ${targetUrl}`);
						}
					} else {
						// æ–‡ä»¶å­˜åœ¨ï¼Œæ­£å¸¸å¯¼èˆª
						this.performNavigation(targetUrl, pageName);
					}

					// ç¬¬å››é‡ä¿éšœï¼šå»¶è¿Ÿç¡®ä¿å¯¼èˆªå®Œæˆ
					setTimeout(() => {
						this.showLoading(false);
						this.showSafetyIndicator(false);
					}, 1000);

				} catch (error) {
					console.error('âŒ å¯¼èˆªå¤±è´¥:', error);
					this.handleNavigationError(error, targetUrl, pageName);
					this.showLoading(false);
					this.showSafetyIndicator(false);
				}
			},

			// URLéªŒè¯
			validateUrl(url) {
				// é˜²æ­¢è·¯å¾„éå†æ”»å‡»
				if (url.includes('../') || url.includes('..\\')) {
					return false;
				}
				
				// åªå…è®¸ç›¸å¯¹è·¯å¾„æˆ–æ ¹è·¯å¾„
				if (!url.startsWith('./') && !url.startsWith('/') && !url.includes('.html')) {
					return false;
				}

				return true;
			},

			// æ‰§è¡Œå¯¼èˆª
			performNavigation(url, pageName) {
				console.log(`ğŸš€ æ‰§è¡Œå¯¼èˆª: ${url}`);
				
				// ç»™ç”¨æˆ·åé¦ˆ
				const message = isEnglishMode ? 
					`æ­£åœ¨è·³è½¬åˆ°${pageName || url}...` : 
					`æ­£åœ¨è·³è½¬åˆ°${pageName || url}...`;
				
				// æœ€ç»ˆå¯¼èˆª
				setTimeout(() => {
					window.location.href = url;
				}, 500);
			},

			// å¤„ç†å¯¼èˆªé”™è¯¯
			handleNavigationError(error, originalUrl, pageName) {
				console.error('å¯¼èˆªé”™è¯¯å¤„ç†:', error);
				
				const errorMessage = isEnglishMode ?
					`å¯¼èˆªå¤±è´¥: ${error.message}\næ˜¯å¦è¿”å›ä¸»é¡µï¼Ÿ` :
					`å¯¼èˆªå¤±è´¥: ${error.message}\næ˜¯å¦è¿”å›ä¸»é¡µï¼Ÿ`;
				
				if (confirm(errorMessage)) {
					this.performNavigation('/', 'ä¸»é¡µ');
				}
			},

			// æ˜¾ç¤º/éšè—åŠ è½½æŒ‡ç¤ºå™¨
			showLoading(show) {
				const overlay = document.getElementById('loadingOverlay');
				overlay.style.display = show ? 'flex' : 'none';
			},

			// æ˜¾ç¤º/éšè—å®‰å…¨æŒ‡ç¤ºå™¨
			showSafetyIndicator(show) {
				const indicator = document.getElementById('navSafeIndicator');
				indicator.style.display = show ? 'block' : 'none';
			}
		};

		// è·å–å¯¼èˆªé“¾æ¥è·¯å¾„
		function getNavLinkPath(basePath) {
			if (isEnglishMode) {
				// ä¸ºæ¯ä¸ªé¡µé¢å•ç‹¬æŒ‡å®šè‹±æ–‡è·¯å¾„
				const englishPaths = {
					'home': 'indexhome-En.html',
					'author': 'index2-En.html', 
					'profile': 'index3.html'
				};
				return englishPaths[basePath] || basePath;
			}
			
			// ä¸­æ–‡æ¨¡å¼ä¸‹çš„è·¯å¾„æ˜ å°„
			const chinesePaths = {
				'home': 'indexhome.html',
				'author': 'index2.html',
				'profile': 'index3.html'
			};
			return chinesePaths[basePath] || basePath;
		}

		// ç»Ÿä¸€çš„å¯¼èˆªå¤„ç†å‡½æ•°
		function handleNavigation(pageType, event) {
			if (event) {
				event.preventDefault();
			}

			const targetPage = getNavLinkPath(pageType);
			const pageNames = {
				'home': isEnglishMode ? 'Home Page' : 'ä¸»é¡µ',
				'author': isEnglishMode ? 'Author Page' : 'ä½œè€…é¡µ',
				'profile': isEnglishMode ? 'Profile Page' : 'ä¸ªäººä¸­å¿ƒ'
			};

			// ä½¿ç”¨å¤šé‡ä¿éšœå¯¼èˆª
			NavigationSafety.safeNavigate(targetPage, pageNames[pageType]);

			// æ›´æ–°å¯¼èˆªçŠ¶æ€
			updateNavigationState(pageType);
		}

		// æ›´æ–°å¯¼èˆªçŠ¶æ€
		function updateNavigationState(activePage) {
			const navItems = document.querySelectorAll('.bottom-nav .nav-item');
			navItems.forEach(item => item.classList.remove('active'));
			
			const activeIndex = activePage === 'home' ? 0 : activePage === 'author' ? 1 : 2;
			navItems[activeIndex].classList.add('active');
		}

		// åˆ‡æ¢è¯­è¨€
		function toggleLanguage() {
			const checkbox = document.getElementById('languageToggle');
			isEnglishMode = checkbox.checked;
			
			if (isEnglishMode) {
				translateToEnglish();
				saveLanguageState(true);
				
				// æ˜¾ç¤ºå¤šé‡ä¿éšœå·²å¯ç”¨çš„æç¤º
				showSafetyNotification();
				
				// å»¶è¿Ÿè·³è½¬ï¼Œè®©ç”¨æˆ·çœ‹åˆ°é“¾æ¥å·²æ›´æ–°
				setTimeout(() => {
					NavigationSafety.safeNavigate(getNavLinkPath('home'), 'Home Page');
				}, 2000);
			} else {
				translateToEnglish(); // å…ˆç¿»è¯‘ç•Œé¢
				translateToChinese(); // å†ç¿»è¯‘å›ä¸­æ–‡
				saveLanguageState(false);
			}
		}

		// æ˜¾ç¤ºå®‰å…¨å¯¼èˆªé€šçŸ¥
		function showSafetyNotification() {
			const notification = document.getElementById('wechatNotification');
			const content = notification.querySelector('.notification-content');
			content.innerHTML = `
				<div style="font-weight: bold; margin-bottom: 3px;">ğŸ”’ å®‰å…¨å¯¼èˆªå·²å¯ç”¨</div>
				<div data-zh="å¤šé‡ä¿éšœæœºåˆ¶å·²æ¿€æ´»" data-en="Multiple security measures activated. Will automatically navigate to safe pages in English mode">å¤šé‡ä¿éšœæœºåˆ¶å·²æ¿€æ´»</div>
			`;
			
			// ä¸´æ—¶æ›´æ”¹å·¥ä½œå®¤åç§°
			const studioName = notification.querySelector('.studio-name');
			const originalName = studioName.textContent;
			studioName.textContent = 'å®‰å…¨ç³»ç»Ÿ';
			
			notification.classList.add('show');
			
			// 3ç§’åæ¢å¤
			setTimeout(() => {
				notification.classList.remove('show');
				studioName.textContent = originalName;
				// æ¢å¤åŸå†…å®¹
				const content = notification.querySelector('.notification-content');
				content.innerHTML = `
					<div style="font-weight: bold; margin-bottom: 3px;">æ¤åˆ›é­”ç›’</div>
					<div data-zh="æˆ‘ä»¬åªæ˜¯PVZçš„å¿ å®çˆ±å¥½è€…ï¼" data-en="We are just loyal fans of PVZ!">æˆ‘ä»¬åªæ˜¯PVZçš„å¿ å®çˆ±å¥½è€…ï¼</div>
				`;
			}, 3000);
		}

		// ç¿»è¯‘æˆè‹±æ–‡
		function translateToEnglish() {
			// æ›´æ–°æ‰€æœ‰å¸¦æœ‰data-zhå’Œdata-enå±æ€§çš„å…ƒç´ 
			const elements = document.querySelectorAll('[data-zh][data-en]');
			elements.forEach(element => {
				element.textContent = element.getAttribute('data-en');
			});

			// æ›´æ–°placeholder
			const inputs = document.querySelectorAll('[data-placeholder-zh][data-placeholder-en]');
			inputs.forEach(input => {
				input.placeholder = input.getAttribute('data-placeholder-en');
			});

			// æ›´æ–°é¡µé¢æ ‡é¢˜
			document.title = 'Software Search Download';
			
			// æ›´æ–°é”™è¯¯æç¤ºä¿¡æ¯
			updateErrorMessage('usernameError', 'Username needs at least 2 characters');
			updateErrorMessage('passwordError', 'Password must be 8-12 characters and include both letters and numbers');
		}

		// ç¿»è¯‘æˆä¸­æ–‡
		function translateToChinese() {
			// æ›´æ–°æ‰€æœ‰å¸¦æœ‰data-zhå’Œdata-enå±æ€§çš„å…ƒç´ 
			const elements = document.querySelectorAll('[data-zh][data-en]');
			elements.forEach(element => {
				element.textContent = element.getAttribute('data-zh');
			});

			// æ›´æ–°placeholder
			const inputs = document.querySelectorAll('[data-placeholder-zh][data-placeholder-en]');
			inputs.forEach(input => {
				input.placeholder = input.getAttribute('data-placeholder-zh');
			});

			// æ›´æ–°é¡µé¢æ ‡é¢˜
			document.title = 'è½¯ä»¶æœç´¢ä¸‹è½½';
			
			// æ›´æ–°é”™è¯¯æç¤ºä¿¡æ¯
			updateErrorMessage('usernameError', 'è´¦å·è‡³å°‘éœ€è¦2ä½å­—ç¬¦');
			updateErrorMessage('passwordError', 'å¯†ç éœ€8-12ä½ï¼Œä¸”å¿…é¡»åŒ…å«è‹±æ–‡å’Œæ•°å­—');
		}

		// æ›´æ–°é”™è¯¯æ¶ˆæ¯
		function updateErrorMessage(elementId, message) {
			const errorElement = document.getElementById(elementId);
			errorElement.textContent = message;
		}

		// æ£€æŸ¥è¯­è¨€çŠ¶æ€
		function checkLanguageState() {
			const savedIsEnglish = getLanguageState();
			const checkbox = document.getElementById('languageToggle');
			checkbox.checked = savedIsEnglish;
			isEnglishMode = savedIsEnglish;
			
			if (savedIsEnglish) {
				translateToEnglish();
			} else {
				translateToChinese();
			}
		}

		// ä½¿ç”¨localStorageæ›¿ä»£cookieæ¥ä¿å­˜ç™»å½•çŠ¶æ€
		function saveLoginState(username) {
			localStorage.setItem('username', username);
			localStorage.setItem('isLoggedIn', 'true');
			localStorage.setItem('loginTime', new Date().getTime());
		}

		function getLoginState() {
			const isLoggedIn = localStorage.getItem('isLoggedIn') === 'true';
			const username = localStorage.getItem('username');
			const loginTime = localStorage.getItem('loginTime');
			
			// æ£€æŸ¥ç™»å½•æ˜¯å¦è¿‡æœŸï¼ˆ365å¤©ï¼‰
			if (isLoggedIn && loginTime) {
				const now = new Date().getTime();
				const oneYear = 365 * 24 * 60 * 60 * 1000;
				if (now - parseInt(loginTime) > oneYear) {
					clearLoginState();
					return { isLoggedIn: false, username: null };
				}
			}
			
			return { isLoggedIn, username };
		}

		function clearLoginState() {
			localStorage.removeItem('username');
			localStorage.removeItem('isLoggedIn');
			localStorage.removeItem('loginTime');
		}

		// ä»HTMLä¸­æå–ç‰ˆæœ¬å·
		function extractVersionFromHTML() {
			const titleMatch = document.title.match(/(\d+\.\d+)/);
			if (titleMatch) {
				return `ç‰ˆæœ¬ ${titleMatch[1]} å†…æµ‹ç‰ˆ`;
			}
			return 'ç‰ˆæœ¬ 1.1æ­£å¼ç‰ˆ';
		}

		// éªŒè¯å‡½æ•°
		function validateUsername(username) {
			return username && username.length >= 2;
		}

		function validatePassword(password) {
			if (!password || password.length < 8 || password.length > 12) {
				return false;
			}
			const hasLetter = /[a-zA-Z]/.test(password);
			const hasNumber = /\d/.test(password);
			return hasLetter && hasNumber;
		}

		// ç™»å½•ç›¸å…³å‡½æ•°
		function showLoginModal() {
			document.getElementById('loginModal').classList.add('show');
			document.getElementById('username').focus();
		}

		function closeLoginModal(event) {
			if (event && event.target !== document.getElementById('loginModal')) return;
			document.getElementById('loginModal').classList.remove('show');
			clearErrors();
			document.getElementById('loginForm').reset();
		}

		function clearErrors() {
			document.getElementById('usernameError').style.display = 'none';
			document.getElementById('passwordError').style.display = 'none';
		}

		function showError(elementId, message) {
			const errorElement = document.getElementById(elementId);
			errorElement.textContent = message;
			errorElement.style.display = 'block';
		}

		function handleLogin(event) {
			event.preventDefault();
			
			const username = document.getElementById('username').value.trim();
			const password = document.getElementById('password').value;

			clearErrors();

			let isValid = true;

			if (!validateUsername(username)) {
				showError('usernameError', isEnglishMode ? 'Username needs at least 2 characters' : 'è´¦å·è‡³å°‘éœ€è¦2ä½å­—ç¬¦');
				isValid = false;
			}

			if (!validatePassword(password)) {
				showError('passwordError', isEnglishMode ? 'Password must be 8-12 characters and include both letters and numbers' : 'å¯†ç éœ€8-12ä½ï¼Œä¸”å¿…é¡»åŒ…å«è‹±æ–‡å’Œæ•°å­—');
				isValid = false;
			}

			if (!isValid) return;

			// ä¿å­˜ç™»å½•çŠ¶æ€åˆ°localStorage
			saveLoginState(username);

			updateUserInterface(username);
			closeLoginModal();
			alert(isEnglishMode ? 'Login successful! Welcome ' + username : 'ç™»å½•æˆåŠŸï¼æ¬¢è¿ ' + username);
		}

		function logout() {
			const confirmMsg = isEnglishMode ? 'Are you sure you want to log out?' : 'ç¡®å®šé€€å‡ºç™»å½•å—ï¼Ÿ';
			if (confirm(confirmMsg)) {
				clearLoginState();
				updateUserInterface(null);
				alert(isEnglishMode ? 'Logged out successfully' : 'å·²é€€å‡ºç™»å½•');
			}
		}

		function updateUserInterface(username) {
			const welcomeText = document.getElementById('welcomeText');
			const loginStatus = document.getElementById('loginStatus');
			const logoutBtn = document.getElementById('logoutBtn');

			if (username) {
				welcomeText.textContent = isEnglishMode ? `Welcome, ${username}` : `æ¬¢è¿æ‚¨ï¼Œ${username}`;
				loginStatus.textContent = isEnglishMode ? 'Logged in' : 'å·²ç™»å½•';
				loginStatus.onclick = null;
				logoutBtn.style.display = 'inline-block';
			} else {
				welcomeText.textContent = isEnglishMode ? 'Welcome to visit' : 'æ¬¢è¿è®¿é—®';
				loginStatus.textContent = isEnglishMode ? 'Click to login' : 'ç‚¹å‡»ç™»å½•';
				loginStatus.onclick = showLoginModal;
				logoutBtn.style.display = 'none';
			}
		}

		// æ£€æŸ¥ç™»å½•çŠ¶æ€
		function checkLoginStatus() {
			const loginState = getLoginState();
			if (loginState.isLoggedIn && loginState.username) {
				updateUserInterface(loginState.username);
			}
		}

		// è”ç³»ä½œè€…ç›¸å…³å‡½æ•°
		function showContactModal() {
			document.getElementById('contactModal').classList.add('show');
		}

		function closeContactModal(event) {
			if (event && event.target !== document.getElementById('contactModal')) return;
			document.getElementById('contactModal').classList.remove('show');
		}

		function copyQQFromModal() {
			const qqNumber = '2019947085';
			
			// ä½¿ç”¨å¯é çš„å¤åˆ¶æ–¹æ³•
			const textArea = document.createElement("textarea");
			textArea.value = qqNumber;
			textArea.style.top = "0";
			textArea.style.left = "0";
			textArea.style.position = "fixed";
			textArea.style.opacity = "0";
			
			document.body.appendChild(textArea);
			textArea.focus();
			textArea.select();
			
			try {
				const successful = document.execCommand('copy');
				if (successful) {
					showCopySuccess();
					setTimeout(() => {
						closeContactModal({ target: document.getElementById('contactModal') });
					}, 1500);
				} else {
					alert(isEnglishMode ? 'Copy failed, please manually copy QQ number: ' + qqNumber : 'å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶QQå·ï¼š' + qqNumber);
				}
			} catch (err) {
				console.error('å¤åˆ¶å¤±è´¥: ', err);
				alert(isEnglishMode ? 'Copy failed, please manually copy QQ number: ' + qqNumber : 'å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶QQå·ï¼š' + qqNumber);
			}
			
			document.body.removeChild(textArea);
		}

		// æ˜¾ç¤ºå¤åˆ¶æˆåŠŸæç¤º
		function showCopySuccess() {
			const modal = document.getElementById('copySuccessModal');
			modal.textContent = isEnglishMode ? 'Copied to clipboard' : 'å·²å¤åˆ¶åˆ°å‰ªè´´æ¿';
			modal.classList.add('show');
			setTimeout(() => {
				modal.classList.remove('show');
			}, 2000);
		}

		// æ˜¾ç¤ºå¾®ä¿¡é£æ ¼é€šçŸ¥
		function showWeChatNotification() {
			const notification = document.getElementById('wechatNotification');
			notification.classList.add('show');
		}

		// éšè—å¾®ä¿¡é£æ ¼é€šçŸ¥ï¼ˆç‚¹å‡»é€šçŸ¥ç«‹å³æ”¶å›ï¼‰
		function hideWeChatNotification() {
			const notification = document.getElementById('wechatNotification');
			notification.classList.remove('show');
		}

		// CDæ§åˆ¶å˜é‡ - åŸºäºæ—¶é—´è€Œä¸æ˜¯çŠ¶æ€
		let lastShowTime = 0;
		const COOLDOWN_TIME = 3000; // 3ç§’CD

		// å…³äºæˆ‘ä»¬åŠŸèƒ½ - åªæ˜¾ç¤ºé€šçŸ¥ï¼Œä¸è¿›å…¥é¡µé¢ï¼Œæ·»åŠ 3ç§’CD
		function showAboutNotification() {
			const currentTime = new Date().getTime();
			
			// æ£€æŸ¥æ˜¯å¦åœ¨CDæ—¶é—´å†…ï¼ˆå½“å‰æ—¶é—´ - ä¸Šæ¬¡æ˜¾ç¤ºæ—¶é—´ < 3ç§’ï¼‰
			if (currentTime - lastShowTime < COOLDOWN_TIME) {
				return; // å¦‚æœåœ¨CDä¸­ï¼Œç›´æ¥è¿”å›ä¸æ‰§è¡Œ
			}
			
			showWeChatNotification();
			// è®°å½•æœ¬æ¬¡æ˜¾ç¤ºçš„æ—¶é—´
			lastShowTime = currentTime;
			
			// 3ç§’åè‡ªåŠ¨éšè—é€šçŸ¥
			setTimeout(() => {
				hideWeChatNotification();
			}, 3000);
		}

		// è®¾ç½®åŠŸèƒ½ - æ˜¾ç¤ºé¡µé¢ï¼Œéšè—åŠŸèƒ½åˆ—è¡¨ï¼Œä¸æ˜¾ç¤ºé€šçŸ¥
		function goToSettings() {
			document.getElementById('functionList').style.display = 'none';
			document.getElementById('settingsPage').style.display = 'block';
			
			// æå–å¹¶æ˜¾ç¤ºç‰ˆæœ¬å·
			const version = extractVersionFromHTML();
			document.getElementById('settingsVersionDisplay').textContent = version.replace('ç‰ˆæœ¬ ', '');
		}

		function hideSettings() {
			document.getElementById('settingsPage').style.display = 'none';
			document.getElementById('functionList').style.display = 'block';
		}

		// éœ¸ç‹æ¡æ¬¾ç›¸å…³å‡½æ•°
		function loadTermsContent() {
			const termsContent = document.getElementById('termsContent');
			
			// åˆ›å»ºAJAXè¯·æ±‚è¯»å–txtæ–‡ä»¶
			const xhr = new XMLHttpRequest();
			xhr.open('GET', 'éœ¸ç‹æ¡æ¬¾.txt', true);
			xhr.onreadystatechange = function() {
				if (xhr.readyState === 4) {
					if (xhr.status === 200) {
						// æˆåŠŸè¯»å–æ–‡ä»¶ï¼Œç›´æ¥æ˜¾ç¤ºæ–‡æœ¬å†…å®¹
						const content = xhr.responseText;
						// å°†æ¢è¡Œç¬¦è½¬æ¢ä¸ºHTMLæ¢è¡Œ
						termsContent.innerHTML = content.replace(/\n/g, '<br>');
					} else {
						// æ–‡ä»¶è¯»å–å¤±è´¥ï¼Œæ˜¾ç¤ºé”™è¯¯ä¿¡æ¯
						termsContent.innerHTML = '<div class="error-text">' + (isEnglishMode ? 'Failed to read terms. Please ensure "éœ¸ç‹æ¡æ¬¾.txt" file exists in the same directory' : 'è¯»å–éœ¸ç‹æ¡æ¬¾å¤±è´¥ï¼Œè¯·ç¡®ä¿"éœ¸ç‹æ¡æ¬¾.txt"æ–‡ä»¶å­˜åœ¨äºåŒç›®å½•ä¸‹') + '</div>';
					}
				}
			};
			xhr.send();
		}

		function showTermsModal() {
			// é‡ç½®å†…å®¹å¹¶æ˜¾ç¤ºåŠ è½½çŠ¶æ€
			document.getElementById('termsContent').innerHTML = '<div class="loading-text">' + (isEnglishMode ? 'Loading terms...' : 'æ­£åœ¨åŠ è½½æ¡æ¬¾å†…å®¹...') + '</div>';
			// æ˜¾ç¤ºå¼¹çª—
			document.getElementById('termsOverlay').classList.add('show');
			// åŠ è½½æ¡æ¬¾å†…å®¹
			loadTermsContent();
		}

		function closeTermsModal(event) {
			// å¦‚æœç‚¹å‡»çš„æ˜¯é®ç½©å±‚æˆ–è€…æ˜¯å…³é—­æŒ‰é’®ï¼Œåˆ™å…³é—­å¼¹çª—
			if (!event || event.target === document.getElementById('termsOverlay') || event.target.classList.contains('terms-close')) {
				document.getElementById('termsOverlay').classList.remove('show');
			}
		}

		// åˆå§‹åŒ–
		document.getElementById('loginForm').addEventListener('submit', handleLogin);
		checkLoginStatus();
		checkLanguageState();

		// é¡µé¢åŠ è½½å®Œæˆåçš„é¢å¤–å®‰å…¨æ£€æŸ¥
		document.addEventListener('DOMContentLoaded', function() {
			console.log('ğŸ”’ å¤šé‡ä¿éšœå¯¼èˆªç³»ç»Ÿå·²åˆå§‹åŒ–');
		
		});
	</script>
</body>
</html>